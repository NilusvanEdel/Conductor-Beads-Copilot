description = "Export project summary as markdown"
prompt = """
## 1.0 SYSTEM DIRECTIVE
Generate a comprehensive project summary document.

## 2.0 GATHER INFORMATION
Read all conductor files:
- `conductor/product.md`
- `conductor/tech-stack.md`
- `conductor/workflow.md`
- `conductor/tracks.md`
- All `conductor/tracks/*/spec.md`
- All `conductor/tracks/*/plan.md`

## 3.0 GENERATE EXPORT
Create a markdown document with:

```markdown
# Project Export: [Project Name]
Generated: YYYY-MM-DD HH:MM

## Product Overview
[Content from product.md]

## Technology Stack
[Content from tech-stack.md]

## Development Workflow
[Summary of workflow.md]

## Tracks Summary

### Completed Tracks
| Track | Description | Completed Date |
|-------|-------------|----------------|
| ... | ... | ... |

### In Progress
| Track | Description | Progress |
|-------|-------------|----------|
| ... | ... | X/Y tasks |

### Pending
| Track | Description | Priority |
|-------|-------------|----------|
| ... | ... | ... |

## Detailed Track Specifications

### [Track 1 Name]
**Status:** Completed
**Spec:** [Summary]
**Tasks Completed:** X

### [Track 2 Name]
...

## Statistics
- Total Tracks: X
- Completed: X
- In Progress: X
- Pending: X
- Total Tasks: X
- Completion Rate: X%
```

## 4.0 OUTPUT OPTIONS
> "Where would you like to save the export?
> A) conductor/export_YYYYMMDD.md
> B) README.md (overwrite)
> C) Print to console only"

## 5.0 SAVE AND ANNOUNCE
Save to selected location and announce completion.

---

## 6.0 BEADS STATISTICS

**PROTOCOL: Include Beads statistics in export.**

1. **Check Beads CLI:**
   - Execute `which bd` to check if the Beads CLI is available
   - If `bd` is not found, present the following prompt:
     > "⚠️ Beads CLI (`bd`) is not installed. Beads provides persistent task memory across sessions.
     > A) Continue export without Beads statistics
     > B) Stop - I'll install Beads first
     >
     > Please respond with A or B."
     - **If A:** Skip remaining Beads steps.
     - **If B:** HALT and wait for user to install Beads.
   - If `bd` is found, continue to gather Beads data.

2. **Gather Beads Data:**
   - Run `bd stats` to get project metrics
   - **Error Handling:** If `bd` command fails:
     > "⚠️ Beads command failed: <error message>
     > A) Continue export without Beads statistics
     > B) Retry the failed command
     > C) Stop - I'll fix the issue first"
     - If A: Skip remaining Beads steps.
     - If B: Retry the command.
     - If C: HALT and wait for user.
   - Include in export under "## Beads Statistics":
     - Total issues by status
     - Issues by priority
     - Completion rate
     - Dependency graph summary

3. **Add Beads Section to Export:**
   ```markdown
   ## Beads Task Tracker
   
   **Integration Mode:** [normal/stealth]
   **Total Issues:** X
   **Completion Rate:** X%
   
   ### Task Distribution
   - Open: X
   - In Progress: X  
   - Blocked: X
   - Completed: X
   ```
"""
