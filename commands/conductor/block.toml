description = "Mark a task as blocked with a reason"
prompt = """
## BLOCK TASK

Mark a task as blocked.

### 1. Identify Task
- If argument provided, find that task in the current track's plan.md
- If no argument, show in-progress tasks and ask which to block

### 2. Get Reason
Ask: "What is blocking this task?"

### 3. Update Plan
Change `[~] Task name` to `[!] Task name [BLOCKED: reason]`

### 4. Sync with Beads (if enabled)
- Check if `conductor/beads.json` exists and `enabled: true`
- If enabled:
  - Read `beads_tasks` mapping from track's metadata.json
  - Generate task key from phase/task index (e.g., `phase1_task2`)
  - Look up `beads_task_id` from the mapping
  - If found, run: `bd update <beads_task_id> --status blocked --note "<reason>"`
  - If blocker is another task, create dependency: `bd dep add <blocked_task_id> <blocker_task_id>`
- If Beads not enabled or task ID not found, skip silently
- If `bd` command fails, log warning but continue

### 5. Announce
"Task marked as blocked. Use `/conductor:status` to see all blockers."
"""
